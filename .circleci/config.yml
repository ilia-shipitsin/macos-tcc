version: 2.1

jobs: 
  test: 
    macos:
      xcode: 14.2.0 
    steps: 
      - checkout  
      - run:
          name: ls app
          command: ls /Applications/

  build: 
    macos:
      xcode: 14.2.0 
    steps: 
      - checkout
      - run:
          name: sw_vers
          command: sw_vers
      - run:
          name: SIP status
          command: csrutil status        
      - run:
          name: screencapture
          command: screencapture image.png
      - store_artifacts:
          path: image.png
          destination: image.png

workflows:
  test_build:
    jobs:
      - test
      - build:
          requires:
            - test

